// autotime.js
// Auto hourly Islamik messages (Bangla date) â€” compatible with FB-chat-style api (api.sendMessage, api.getThreadList)

module.exports.config = {
  name: "autotime",
  version: "1.0.0",
  permission: 0,
  credits: "saim ",
  description: "à¦ªà§à¦°à¦¤à¦¿ à¦˜à¦¨à§à¦Ÿà¦¾à§Ÿ à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦¬à¦¾à¦°à§à¦¤à¦¾ à¦ªà¦¾à¦ à¦¾à§Ÿ (à¦¬à¦¾à¦‚à¦²à¦¾ à¦¤à¦¾à¦°à¦¿à¦– à¦¸à¦¹, Asia/Dhaka)",
  prefix: true,
  commandCategory: "user",
  usages: "",
  cooldowns: 5,

  sendTo: [], // à¦¨à¦¿à¦°à§à¦¦à¦¿à¦·à§à¦Ÿ à¦¥à§à¦°à§‡à¦¡ à¦šà¦¾à¦‡à¦²à§‡ à¦à¦–à¦¾à¦¨à§‡ ID à¦¯à§‹à¦— à¦•à¦°à§‹
  checkInterval: 60 * 1000
};


// ================== messages array ==================
const nazrul = [
  { timer: '12:00:00 AM', message: ['ğŸ’ à¦¬à¦¨à§à¦§à§ à¦“ à¦ªà¦°à¦¿à¦¬à¦¾à¦°à¦•à§‡ à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à§à¦¨..!\nğŸ«‚ à¦®à¦¾à¦¨à§à¦·à§‡à¦° à¦¸à¦¾à¦¹à¦¾à¦¯à§à¦¯à§‡ à¦à¦—à¦¿à¦¯à¦¼à§‡ à¦†à¦¸à§à¦¨..!\nğŸŒˆ à¦¸à¦¬ à¦•à¦¾à¦œà§‡ à¦¨à¦¿à¦¯à¦¼à¦¤ à¦¶à§à¦¦à§à¦§ à¦°à¦¾à¦–à§à¦¨..!'] },
  { timer: '1:00:00 AM', message: ['ğŸŒŸ à¦ªà§à¦°à¦¤à¦¿à¦¦à¦¿à¦¨ à¦¨à¦¤à§à¦¨ à¦•à¦¿à¦›à§ à¦­à¦¾à¦²à§‹ à¦•à¦°à§à¦¨..!\nğŸ•¯ï¸ à¦°à¦¾à¦¤à§‡à¦° à¦¤à¦¾à¦¹à¦¾à¦œà§à¦œà§à¦¦ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦•à¦¾à¦›à§‡ à¦ªà§à¦°à¦¿à¦¯à¦¼..!\nâ˜ªï¸ à¦°à¦®à¦œà¦¾à¦¨à§‡à¦° à¦°à§‹à¦œà¦¾ à¦†à¦ªà¦¨à¦¾à¦° à¦†à¦¤à§à¦®à¦¾à¦•à§‡ à¦¶à¦•à§à¦¤ à¦•à¦°à¦¬à§‡..!'] },
  { timer: '2:00:00 AM', message: ['ğŸª· à¦¨à¦¿à¦œà§‡à¦° à¦šà¦°à¦¿à¦¤à§à¦° à¦¸à§à¦¨à§à¦¦à¦° à¦•à¦°à§à¦¨, à¦†à¦²à§à¦²à¦¾à¦¹ à¦–à§à¦¶à¦¿ à¦¹à¦¬à§‡à¦¨..!\nğŸ’ à¦¹à¦¾à¦°à¦¾à¦® à¦¥à§‡à¦•à§‡ à¦¦à§‚à¦°à§‡ à¦¥à¦¾à¦•à§à¦¨, à¦¶à¦¾à¦¨à§à¦¤à¦¿ à¦ªà¦¾à¦¬à§‡à¦¨..!\nğŸ›¡ï¸ à¦ˆà¦®à¦¾à¦¨ à¦¹à¦²à§‹ à¦œà§€à¦¬à¦¨à§‡à¦° à¦¸à¦¬à¦šà§‡à¦¯à¦¼à§‡ à¦¬à¦¡à¦¼ à¦¸à¦®à§à¦ªà¦¦..!'] },
  { timer: '3:00:00 AM', message: ['ğŸ•‹ à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦•à¦¾à¦œ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦œà¦¨à§à¦¯ à¦•à¦°à§à¦¨..!\nâœ¨ à¦¹à¦¾à¦¸à§à¦¨, à¦­à¦¾à¦²à§‹ à¦‰à¦¦à§à¦¦à§€à¦ªà¦¨à¦¾ à¦›à§œà¦¿à§Ÿà§‡ à¦¦à¦¿à¦¨..!\nğŸ“¿ à¦¨à¦¾à¦®à¦¾à¦œ, à¦¦à§‹à¦¯à¦¼à¦¾ à¦“ à¦­à¦¾à¦²à§‹ à¦•à¦¾à¦œâ€”à¦à¦—à§à¦²à§‹à¦‡ à¦œà§€à¦¬à¦¨à§‡à¦° à¦¶à¦•à§à¦¤à¦¿..!'] },
  { timer: '4:00:00 AM', message: ['ğŸ”‘ à¦¤à¦¾à¦“à¦¬à¦¾ à¦•à¦°à§à¦¨, à¦—à§à¦¨à¦¾à¦¹ à¦¥à§‡à¦•à§‡ à¦®à§à¦•à§à¦¤à¦¿ à¦ªà¦¾à¦¬à§‡à¦¨..!\nğŸƒ à¦§à§ˆà¦°à§à¦¯ à¦§à¦°à§à¦¨, à¦†à¦²à§à¦²à¦¾à¦¹ à¦•à¦ à¦¿à¦¨ à¦¸à¦®à¦¯à¦¼ à¦¸à¦¹à¦œ à¦•à¦°à¦¬à§‡à¦¨..!\nğŸŒˆ à¦¦à¦¯à¦¼à¦¾ à¦“ à¦¸à¦¹à¦®à¦°à§à¦®à¦¿à¦¤à¦¾ à¦ªà§à¦°à¦¦à¦°à§à¦¶à¦¨ à¦•à¦°à§à¦¨, à¦†à¦²à§à¦²à¦¾à¦¹ à¦†à¦ªà¦¨à¦¾à¦•à§‡ à¦¸à¦¾à¦¹à¦¾à¦¯à§à¦¯ à¦•à¦°à¦¬à§‡à¦¨..!'] },
  { timer: '5:00:00 AM', message: ['ğŸ•Œ à¦œà¦¾à¦®à¦¾à¦¤à§‡ à¦¨à¦¾à¦®à¦¾à¦œâ€”à¦ˆà¦®à¦¾à¦¨à§‡à¦° à¦¦à§ƒà¦¢à¦¼ à¦­à¦¿à¦¤à§à¦¤à¦¿..!\nğŸŒ¸ à¦¬à¦¾à¦¬à¦¾-à¦®à¦¾à¦¯à¦¼à§‡à¦° à¦¦à§‹à¦¯à¦¼à¦¾ à¦¨à¦¿à¦¨, à¦œà§€à¦¬à¦¨ à¦¹à¦¬à§‡ à¦¬à¦°à¦•à¦¤à¦ªà§‚à¦°à§à¦£..!\nğŸ’¡ à¦¨à§‡à¦• à¦•à¦¾à¦œ à¦•à¦°à§à¦¨, à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦¦à§ƒà¦·à§à¦Ÿà¦¿ à¦†à¦ªà¦¨à¦¾à¦° à¦‰à¦ªà¦° à¦¥à¦¾à¦•à¦¬à§‡..!'] },
  { timer: '6:00:00 AM', message: ['ğŸ•Šï¸ à¦•à§à¦·à¦®à¦¾à¦¶à§€à¦² à¦¹à§‹à¦¨, à¦®à¦¨à§‡à¦° à¦¶à¦¾à¦¨à§à¦¤à¦¿ à¦ªà¦¾à¦¬à§‡à¦¨..!\nğŸ’ à¦¸à¦¦à¦¾à¦šà¦°à¦£ à¦•à¦°à§à¦¨, à¦®à¦¾à¦¨à§à¦· à¦†à¦ªà¦¨à¦¾à¦° à¦ªà§à¦°à¦¤à¦¿ à¦†à¦•à§ƒà¦·à§à¦Ÿ à¦¹à¦¬à§‡..!'] },
  { timer: '7:00:00 AM', message: ['âœ¨ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦¨à¦¾à¦® à¦¸à§à¦®à¦°à¦£à§‡ à¦¹à§ƒà¦¦à§Ÿ à¦¶à¦¾à¦¨à§à¦¤ à¦¹à§Ÿ..!\nğŸ™ à¦¨à¦¿à¦¯à¦¼à¦®à¦¿à¦¤ à¦¨à¦¾à¦®à¦¾à¦œâ€”à¦¸à¦«à¦² à¦œà§€à¦¬à¦¨à§‡à¦° à¦šà¦¾à¦¬à¦¿à¦•à¦¾à¦ à¦¿..!\nğŸ¤² à¦¬à§‡à¦¶à¦¿ à¦¬à§‡à¦¶à¦¿ à¦¦à§‹à¦¯à¦¼à¦¾ à¦•à¦°à§à¦¨, à¦†à¦²à§à¦²à¦¾à¦¹ à¦¨à¦¿à¦•à¦Ÿ à¦¶à§à¦¨à§à¦¨..!'] },
  { timer: '8:00:00 AM', message: ['ğŸª· à¦šà¦°à¦¿à¦¤à§à¦°à¦•à§‡ à¦¸à§à¦¨à§à¦¦à¦° à¦•à¦°à§à¦¨, à¦†à¦²à§à¦²à¦¾à¦¹ à¦–à§à¦¶à¦¿ à¦¹à¦¬à§‡à¦¨..!\nğŸ’ à¦¹à¦¾à¦°à¦¾à¦® à¦¥à§‡à¦•à§‡ à¦¦à§‚à¦°à§‡ à¦¥à¦¾à¦•à§à¦¨, à¦¶à¦¾à¦¨à§à¦¤à¦¿ à¦ªà¦¾à¦¬à§‡à¦¨..!\nğŸ›¡ï¸ à¦ˆà¦®à¦¾à¦¨ à¦¹à¦²à§‹ à¦®à¦¾à¦¨à§à¦·à§‡à¦° à¦¸à¦¬à¦šà§‡à§Ÿà§‡ à¦¬à§œ à¦¸à¦®à§à¦ªà¦¦..!'] },
  { timer: '9:00:00 AM', message: ['ğŸ“– à¦•à§à¦°à¦†à¦¨à§‡à¦° à¦¶à¦¿à¦•à§à¦·à¦¾à§Ÿ à¦œà§€à¦¬à¦¨ à¦¸à¦¾à¦œà¦¾à¦¨..!\nğŸ«¶ à¦®à¦¾à¦¨à§à¦·à¦•à§‡ à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à§à¦¨, à¦†à¦²à§à¦²à¦¾à¦¹ à¦–à§à¦¶à¦¿ à¦¹à¦¬à§‡à¦¨..!\nğŸ™ à¦¦à§‹à§Ÿà¦¾ à¦•à¦–à¦¨à§‹ à¦¬à¦¾à¦¦ à¦¦à§‡à¦¬à§‡à¦¨ à¦¨à¦¾..!'] },
  { timer: '10:00:00 AM', message: ['âœ¨ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦¨à¦¿à¦•à¦Ÿà§‡ à¦¬à§‡à¦¶à¦¿ à¦¬à§‡à¦¶à¦¿ à¦¦à§‹à¦¯à¦¼à¦¾ à¦•à¦°à§à¦¨..!\nğŸ™ à§« à¦“à§Ÿà¦¾à¦•à§à¦¤ à¦¨à¦¾à¦®à¦¾à¦œ à¦¨à¦¿à§Ÿà¦®à¦¿à¦¤ à¦ªà§œà§à¦¨..!\nğŸ¤ à¦¸à¦•à¦²à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¸à¦¦à§à¦­à¦¾à¦¬ à¦¬à¦œà¦¾à§Ÿ à¦°à¦¾à¦–à§à¦¨..!'] },
  { timer: '11:00:00 AM', message: ['ğŸŒ™ à¦•à§à¦°à¦†à¦¨ à¦ªà§œà§à¦¨, à¦†à¦²à§‹à¦° à¦ªà¦¥à§‡ à¦šà¦²à§à¦¨..!\nğŸ•Šï¸ à¦•à§à¦·à¦®à¦¾à¦¶à§€à¦² à¦¹à§‹à¦¨, à¦¹à§ƒà¦¦à§Ÿ à¦¶à¦¾à¦¨à§à¦¤ à¦°à¦¾à¦–à§à¦¨..!\nğŸ’ à¦­à¦¾à¦²à§‹ à¦†à¦šà¦°à¦£ à¦›à§œà¦¿à§Ÿà§‡ à¦¦à¦¿à¦¨, à¦®à¦¾à¦¨à§à¦· à¦†à¦ªà¦¨à¦¾à¦•à§‡ à¦®à¦¨à§‡ à¦°à¦¾à¦–à¦¬à§‡..!'] },
  { timer: '12:00:00 PM', message: ['ğŸª· à¦šà¦°à¦¿à¦¤à§à¦°à¦•à§‡ à¦¸à§à¦¨à§à¦¦à¦° à¦•à¦°à§à¦¨, à¦†à¦²à§à¦²à¦¾à¦¹ à¦–à§à¦¶à¦¿ à¦¹à¦¬à§‡à¦¨..!\nğŸ’ à¦¹à¦¾à¦°à¦¾à¦® à¦¥à§‡à¦•à§‡ à¦¦à§‚à¦°à§‡ à¦¥à¦¾à¦•à§à¦¨, à¦¶à¦¾à¦¨à§à¦¤à¦¿ à¦ªà¦¾à¦¬à§‡à¦¨..!\nğŸ›¡ï¸ à¦ˆà¦®à¦¾à¦¨ à¦¹à¦²à§‹ à¦œà§€à¦¬à¦¨à§‡à¦° à¦¸à¦¬à¦šà§‡à§Ÿà§‡ à¦¬à§œ à¦¸à¦®à§à¦ªà¦¦..!'] },
  { timer: '1:00:00 PM', message: ['ğŸŒ¸ à¦¬à¦¾à¦¬à¦¾-à¦®à¦¾à§Ÿà§‡à¦° à¦¦à§‹à¦¯à¦¼à¦¾ à¦¨à¦¿à¦¨..!\nğŸ’ à¦¹à¦¾à¦°à¦¾à¦® à¦¥à§‡à¦•à§‡ à¦¨à¦¿à¦œà§‡à¦•à§‡ à¦¬à¦¾à¦à¦šà¦¾à¦¨..!\nğŸŒˆ à¦­à¦¾à¦²à§‹ à¦•à¦¾à¦œà§‡ à¦à¦•à§‡ à¦…à¦ªà¦°à¦•à§‡ à¦¸à¦¾à¦¹à¦¾à¦¯à§à¦¯ à¦•à¦°à§à¦¨..!'] },
  { timer: '2:00:00 PM', message: ['ğŸŒŸ à¦®à¦¾à¦¨à§à¦·à§‡à¦° à¦œà¦¨à§à¦¯ à¦¦à§Ÿà¦¾ à¦“ à¦¸à¦¹à¦®à¦°à§à¦®à¦¿à¦¤à¦¾ à¦ªà§à¦°à¦¦à¦°à§à¦¶à¦¨ à¦•à¦°à§à¦¨..!\nğŸ¤² à¦¬à§‡à¦¶à¦¿ à¦¬à§‡à¦¶à¦¿ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦•à¦¾à¦›à§‡ à¦¦à§‹à§Ÿà¦¾ à¦•à¦°à§à¦¨..!\nğŸ’ à¦¬à¦¨à§à¦§à§à¦¤à§à¦¬ à¦“ à¦­à¦¾à¦²à¦¬à¦¾à¦¸à¦¾ à¦¹à¦¾à¦²à¦¾à¦² à¦ªà¦¥à§‡ à¦°à¦•à§à¦·à¦¾ à¦•à¦°à§à¦¨..!'] },
  { timer: '3:00:00 PM', message: ['ğŸ•Šï¸ à¦ªà¦¾à¦ª à¦¥à§‡à¦•à§‡ à¦¦à§‚à¦°à§‡ à¦¥à¦¾à¦•à§à¦¨..!\nğŸŒ™ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦°à¦¹à¦®à¦¤à§‡ à¦ªà§à¦°à¦¤à¦¿à¦¦à¦¿à¦¨ à¦¨à¦¤à§à¦¨ à¦¶à§à¦°à§ à¦•à¦°à§à¦¨..!\nâœ¨ à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦•à¦¾à¦œà§‡à¦° à¦¶à§à¦°à§à¦° à¦†à¦—à§‡ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦¨à¦¾à¦® à¦¸à§à¦®à¦°à¦£ à¦•à¦°à§à¦¨..!'] },
  { timer: '4:00:00 PM', message: ['ğŸ’¡ à¦œà§à¦à¦¾à¦¨ à¦…à¦°à§à¦œà¦¨ à¦•à¦°à§à¦¨, à¦•à¦¾à¦°à¦£ à¦œà§à¦à¦¾à¦¨ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦¨à¦¿à¦•à¦Ÿ à¦ªà§à¦°à¦¿à§Ÿ..!\nğŸŒ¸ à¦–à¦¾à¦°à¦¾à¦ª à¦…à¦­à§à¦¯à¦¾à¦¸ à¦¤à§à¦¯à¦¾à¦— à¦•à¦°à§à¦¨, à¦­à¦¾à¦²à§‹ à¦…à¦­à§à¦¯à¦¾à¦¸ à¦—à§œà§‡ à¦¤à§à¦²à§à¦¨..!\nğŸ•‹ à¦¸à¦¦à¦•à¦¾à¦° à¦®à¦¾à¦§à§à¦¯à¦®à§‡ à¦œà§€à¦¬à¦¨à¦•à§‡ à¦¸à§à¦¨à§à¦¦à¦° à¦•à¦°à§à¦¨..!'] },
  { timer: '5:00:00 PM', message: ['âœï¸ à¦­à¦¾à¦²à§‹ à¦•à¦¥à¦¾ à¦¬à¦²à¦¾ à¦‡à¦¬à¦¾à¦¦à¦¤..!\nğŸ¤ à¦­à§à¦°à¦¾à¦¤à§ƒà¦¤à§à¦¬ à¦¬à¦œà¦¾à§Ÿ à¦°à¦¾à¦–à§à¦¨..!\nğŸŒŸ à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦•à¦¾à¦œà§‡ à¦¨à¦¿à§Ÿà¦¤ à¦¶à§à¦¦à§à¦§ à¦°à¦¾à¦–à§à¦¨..!'] },
  { timer: '6:00:00 PM', message: ['ğŸƒ à¦¸à¦¬à¦° à¦•à¦°à¦¾ à¦®à§à¦®à¦¿à¦¨à§‡à¦° à¦—à§à¦£..!\nğŸ’§ à¦…à¦¯à§ à¦†à¦ªà¦¨à¦¾à¦•à§‡ à¦—à§à¦¨à¦¾à¦¹ à¦¥à§‡à¦•à§‡ à¦¦à§‚à¦°à§‡ à¦°à¦¾à¦–à§‡..!\nğŸª· à¦¨à¦¾à¦®à¦¾à¦œ à¦®à§à¦®à¦¿à¦¨à§‡à¦° à¦®à¦¿à¦°à¦¾à¦œ..!'] },
  { timer: '7:00:00 PM', message: ['ğŸŒº à¦¸à¦¨à§à¦¤à§à¦·à§à¦Ÿà¦¿ à¦¹à¦²à§‹ à¦ªà§à¦°à¦•à§ƒà¦¤ à¦¸à¦®à§à¦ªà¦¦..!\nğŸ”‘ à¦¤à¦¾à¦“à¦¬à¦¾ à¦¹à¦²à§‹ à¦œà¦¾à¦¨à§à¦¨à¦¾à¦¤à§‡à¦° à¦¦à¦°à¦œà¦¾à¦° à¦šà¦¾à¦¬à¦¿..!\nğŸª½ à¦à¦¤à¦¿à¦®à§‡à¦° à¦®à¦¾à¦¥à¦¾à§Ÿ à¦¹à¦¾à¦¤ à¦¬à§à¦²à¦¾à¦¨à§‹ à¦°à¦¹à¦®à¦¤ à¦†à¦¨à§‡..!'] },
  { timer: '8:00:00 PM', message: ['ğŸ•¯ï¸ à¦°à¦¾à¦¤à§‡à¦° à¦¤à¦¾à¦¹à¦¾à¦œà§à¦œà§à¦¦ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦¨à¦¿à¦•à¦Ÿà§‡ à¦ªà§à¦°à¦¿à¦¯à¦¼..!\nâ˜ªï¸ à¦°à¦®à¦œà¦¾à¦¨à§‡à¦° à¦°à§‹à¦œà¦¾ à¦¤à¦¾à¦•à¦“à§Ÿà¦¾ à¦†à¦¨à§‡..!\nğŸ›¡ï¸ à¦ˆà¦®à¦¾à¦¨ à¦¹à¦²à§‹ à¦¸à¦°à§à¦¬à¦¶à§à¦°à§‡à¦·à§à¦  à¦¸à¦®à§à¦ªà¦¦..!'] },
  { timer: '9:00:00 PM', message: ['ğŸ•Šï¸ à¦ªà¦¾à¦ª à¦¥à§‡à¦•à§‡ à¦¦à§‚à¦°à§‡ à¦¥à¦¾à¦•à§à¦¨..!\nğŸŒ™ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦°à¦¹à¦®à¦¤à§‡ à¦ªà§à¦°à¦¤à¦¿à¦¦à¦¿à¦¨ à¦¨à¦¤à§à¦¨ à¦¶à§à¦°à§ à¦•à¦°à§à¦¨..!\nâœ¨ à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦•à¦¾à¦œà§‡à¦° à¦¶à§à¦°à§à¦° à¦†à¦—à§‡ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦¨à¦¾à¦® à¦¸à§à¦®à¦°à¦£ à¦•à¦°à§à¦¨..!'] },
  { timer: '10:00:00 PM', message: ['ğŸ•‹ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦ªà¦¥à§‡ à¦œà§€à¦¬à¦¨à§‡à¦° à¦ªà§à¦°à¦¤à¦¿à¦Ÿà¦¿ à¦ªà¦¦à¦•à§à¦·à§‡à¦ª à¦°à¦¾à¦–à§à¦¨..!\nğŸ“¿ à¦¸à¦•à¦¾à¦²-à¦¸à¦¨à§à¦§à§à¦¯à¦¾à¦° à¦¦à§‹à§Ÿà¦¾ à¦ªà§œà§à¦¨..!\nğŸŒ¹ à¦…à¦¨à§à¦¯à§‡à¦° à¦ªà§à¦°à¦¤à¦¿ à¦¸à¦¦à¦¾à¦šà¦°à¦£ à¦•à¦°à§à¦¨..!'] },
  { timer: '11:00:00 PM', message: ['ğŸ’ à¦°à¦¾à¦¤à§‡à¦° à¦‡à¦¬à¦¾à¦¦à¦¤ à¦®à¦¨à§‡à¦° à¦¨à§ˆà¦ƒà¦¶à¦¬à§à¦¦à§à¦¯ à¦¬à¦¾à§œà¦¾à§Ÿ..!\nğŸ”‘ à¦—à§‹à¦ªà¦¨ à¦¦à§‹à§Ÿà¦¾ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦•à¦¾à¦›à§‡ à¦ªà§à¦°à¦¿à¦¯à¦¼..!\nğŸ•Šï¸ à¦°à¦¾à¦¤à§‡à¦° à¦¨à¦¾à¦®à¦¾à¦œ à¦ªà¦¾à¦ª à¦®à§à¦›à§‡ à¦¦à§‡à§Ÿ..!'] }
];
// =====================================================


// onLoad
module.exports.onLoad = function ({ api }) {
  console.log("[autotime] loaded - checking every", module.exports.config.checkInterval, "ms (Asia/Dhaka)");
  let lastSentKey = null;

  setInterval(() => {
    try {
      const now = new Date();

      const nowHM = new Intl.DateTimeFormat('en-US', {
        timeZone: 'Asia/Dhaka',
        hour12: true,
        hour: 'numeric',
        minute: '2-digit'
      }).format(now);

      const nazruld = nazrul.find(item => item.timer.replace(/:\d{2}/, '') === nowHM);
      if (!nazruld) return;

      const bnDay = new Intl.DateTimeFormat('bn-BD', { timeZone: 'Asia/Dhaka', day: 'numeric' }).format(now);
      const bnMonth = new Intl.DateTimeFormat('bn-BD', { timeZone: 'Asia/Dhaka', month: 'long' }).format(now);
      const bnYear = new Intl.DateTimeFormat('bn-BD', { timeZone: 'Asia/Dhaka', year: 'numeric' }).format(now);
      const bnWeekday = new Intl.DateTimeFormat('bn-BD', { timeZone: 'Asia/Dhaka', weekday: 'long' }).format(now);

      const dhakaTime = new Intl.DateTimeFormat('en-US', {
        timeZone: 'Asia/Dhaka',
        hour12: true,
        hour: 'numeric',
        minute: '2-digit'
      }).format(now);

      const key = `${nowHM}_${bnDay}_${bnMonth}_${bnYear}`;
      if (lastSentKey === key) return;
      lastSentKey = key;

      const islamicChat =
`â•”â•â–â•â–â•â–â•â–â•â–â•â–â•â•—  
      â° ğ—§ğ—œğ— ğ—˜ & ğ——ğ—”ğ—§ğ—˜ â°   
 â•šâ•â–â•â–â•â–â•â–â•â–â•â–â•â•
     â•”â•âœªâ•ğŸ•’â•âœªâ•â•—
     ğ“ğ¢ğ¦ğ: ${dhakaTime}
     â•šâ•â•â•â•â•â•â•â•â•
ğŸ“… ğƒğšğ­ğ: ${bnDay}  
ğŸ“› ğƒğšğ²: ${bnWeekday}  
ğŸ—“ï¸ ğŒğ¨ğ§ğ­ğ¡: ${bnMonth}  
ğŸ“† ğ˜ğğšğ«: ${bnYear}  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
`;

      const finalMessage = islamicChat + '\n' + (Array.isArray(nazruld.message) ? nazruld.message.join('\n') : nazruld.message) + `

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
ğŸ‘‘ ğğ¨ğ­ ğğ°ğ§ğğ« â  -ğ’ğ€ğˆğŒ ğ•ğ€ğˆâ˜œï¸ï¸  

ğŸŒŸ ğ‚ğ«ğğšğ­ğ—¼ğ« â” -ğ’ğ€ğˆğŒ ğ•ğ€ğˆâ˜œï¸ï¸ ğŸŒŸ  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;

      if (Array.isArray(module.exports.config.sendTo) && module.exports.config.sendTo.length > 0) {
        module.exports.config.sendTo.forEach(tid => {
          api.sendMessage(finalMessage, tid, (err) => {
            if (err) console.error("[autotime] send error to", tid, err);
          });
        });
      } else {
        try {
          api.getThreadList(100, null, ['INBOX'], (err, list) => {
            if (err) return console.error("[autotime] getThreadList error:", err);
            list.forEach(thread => {
              if (thread.isGroup || thread.is_group) {
                api.sendMessage(finalMessage, thread.threadID || thread.id, (e) => {
                  if (e) console.error("[autotime] send error", e);
                });
              }
            });
          });
        } catch (e) {
          console.error("[autotime] error while trying to broadcast to groups:", e);
        }
      }

    } catch (error) {
      console.error("[autotime] interval error:", error);
    }
  }, module.exports.config.checkInterval || 60 * 1000);
};


// run(command) â€” test
module.exports.run = async function ({ api, event }) {
  try {
    const now = new Date();
    const dhakaTime = new Intl.DateTimeFormat('en-US', { timeZone: 'Asia/Dhaka', hour12: true, hour: 'numeric', minute: '2-digit' }).format(now);
    const bnDay = new Intl.DateTimeFormat('bn-BD', { timeZone: 'Asia/Dhaka', day: 'numeric' }).format(now);
    const bnMonth = new Intl.DateTimeFormat('bn-BD', { timeZone: 'Asia/Dhaka', month: 'long' }).format(now);
    const bnYear = new Intl.DateTimeFormat('bn-BD', { timeZone: 'Asia/Dhaka', year: 'numeric' }).format(now);
    const bnWeekday = new Intl.DateTimeFormat('bn-BD', { timeZone: 'Asia/Dhaka', weekday: 'long' }).format(now);

    const header = 
`â•”â•â–â• ğ—§ğ—˜ğ—¦ğ—§ ğ— ğ—˜ğ—¦ğ—¦ğ—”ğ—šğ—˜ â•â–â•â•—
Time: ${dhakaTime}
Date: ${bnDay} ${bnMonth} ${bnYear} (${bnWeekday})
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;

    const sample = nazrul[0].message.join('\n');
    api.sendMessage(header + "\n" + sample, event.threadID);
  } catch (e) {
    console.error(e);
  }
};
